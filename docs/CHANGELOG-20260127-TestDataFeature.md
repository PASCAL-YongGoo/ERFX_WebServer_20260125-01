# í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ê¸°ëŠ¥ ì¶”ê°€

**ë‚ ì§œ:** 2026-01-27
**ì»¤ë°‹:** `04e167f`
**ë¸Œëœì¹˜:** master

---

## ê°œìš”

Dashboardì—ì„œ í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ê²€ì‚¬ ë°ì´í„°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
ì‹¤ì œ MQTT ë°ì´í„° ì—†ì´ë„ UIë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ë³€ê²½ íŒŒì¼

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|-----------|
| `Services/InspectionService.cs` | í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ë©”ì„œë“œ ì¶”ê°€ |
| `Pages/Index.razor` | í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ë²„íŠ¼ ì¶”ê°€ |
| `wwwroot/css/site.css` | ë²„íŠ¼, ì•Œë¦¼, ìŠ¤í”¼ë„ˆ ìŠ¤íƒ€ì¼ ì¶”ê°€ |

---

## ìƒì„¸ ë³€ê²½ ì‚¬í•­

### 1. InspectionService.cs

#### ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€
```csharp
Task<int> GenerateTestDataAsync(int count = 50);
```

#### êµ¬í˜„ ë‚´ìš©
- 50ê°œì˜ ìƒ˜í”Œ ê²€ì‚¬ ë°ì´í„° ìƒì„±
- **OK/NG ë¹„ìœ¨:** 85% OK, 15% NG
- **SKU ì¢…ë¥˜:** SKU-A001 ~ SKU-E005 (ëœë¤ ì¡°í•©)
- **ì†¡ì¥ë²ˆí˜¸:** `INV-YYYYMMDD-XXXX` í˜•ì‹
- **ê²€ì‚¬ ì‹œê°„:** ìµœê·¼ 24ì‹œê°„ ë‚´ ëœë¤ ë¶„ì‚°
- **EPC íƒœê·¸:** ì‹¤ì œ í˜•ì‹ê³¼ ìœ ì‚¬í•œ ëœë¤ ìƒì„±

### 2. Index.razor (Dashboard)

#### UI ë³€ê²½
```
[Dashboard ì œëª©] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [ğŸ§ª Generate Test Data]
```

#### ê¸°ëŠ¥
- ë²„íŠ¼ í´ë¦­ ì‹œ 50ê°œ í…ŒìŠ¤íŠ¸ ë°ì´í„° DBì— ì €ì¥
- ìƒì„± ì¤‘ ë¡œë”© ìŠ¤í”¼ë„ˆ í‘œì‹œ
- ì„±ê³µ/ì‹¤íŒ¨ ì•Œë¦¼ ë©”ì‹œì§€ í‘œì‹œ
- ìƒì„± ì™„ë£Œ í›„ í†µê³„ ìë™ ìƒˆë¡œê³ ì¹¨

#### ì½”ë“œ êµ¬ì¡°
```razor
@code {
    private bool isGenerating = false;
    private string? testDataMessage;
    private bool testDataSuccess = false;

    private async Task GenerateTestData() { ... }
}
```

### 3. site.css

#### ì¶”ê°€ëœ ìŠ¤íƒ€ì¼

| í´ë˜ìŠ¤ | ìš©ë„ |
|--------|------|
| `.page-header` | í˜ì´ì§€ í—¤ë” (íƒ€ì´í‹€ + ì•¡ì…˜ ë²„íŠ¼) |
| `.page-actions` | ì•¡ì…˜ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ |
| `.btn` | ê¸°ë³¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ |
| `.btn-test` | ë³´ë¼ìƒ‰ í…ŒìŠ¤íŠ¸ ë²„íŠ¼ |
| `.spinner-small` | ì‘ì€ ë¡œë”© ìŠ¤í”¼ë„ˆ |
| `.alert` | ì•Œë¦¼ ë©”ì‹œì§€ ê¸°ë³¸ |
| `.alert-success` | ì„±ê³µ ì•Œë¦¼ (ë…¹ìƒ‰) |
| `.alert-error` | ì—ëŸ¬ ì•Œë¦¼ (ë¹¨ê°„ìƒ‰) |

---

## ì‚¬ìš© ë°©ë²•

1. ì›¹ì„œë²„ ì‹¤í–‰
   ```bash
   dotnet run --project ErfxWebServer
   ```

2. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5000` ì ‘ì†

3. Dashboard ìš°ì¸¡ ìƒë‹¨ **ğŸ§ª Generate Test Data** ë²„íŠ¼ í´ë¦­

4. ìƒì„± ì™„ë£Œ ë©”ì‹œì§€ í™•ì¸ í›„:
   - Dashboard í†µê³„ ì¹´ë“œì—ì„œ ìˆ˜ì¹˜ í™•ì¸
   - `/inspections` í˜ì´ì§€ì—ì„œ ìƒì„¸ ë°ì´í„° í™•ì¸
   - `/live` í˜ì´ì§€ì—ì„œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸

---

## ìƒì„±ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë°ì´í„° ì˜ˆì‹œ

```json
{
  "correlationId": "a1b2c3d4-...",
  "invoiceNumber": "INV-20260127-5678",
  "barcodeRaw": "BC123456",
  "inspectedAtUtc": "2026-01-27T10:30:00Z",
  "isOk": true,
  "expectedTotal": 12,
  "actualTotal": 12,
  "elapsedMs": 850,
  "expectedItems": { "SKU-A001": 5, "SKU-B002": 7 },
  "actualItems": { "SKU-A001": 5, "SKU-B002": 7 },
  "differences": [],
  "epcSkuPairs": [
    { "epc": "E2ABCD1234...", "sku": "SKU-A001" },
    ...
  ]
}
```

---

## ì°¸ê³ 

- í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì‹¤ì œ DBì— ì €ì¥ë©ë‹ˆë‹¤
- ì—¬ëŸ¬ ë²ˆ í´ë¦­í•˜ë©´ ë°ì´í„°ê°€ ëˆ„ì ë©ë‹ˆë‹¤
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì´ ê¸°ëŠ¥ì„ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤
